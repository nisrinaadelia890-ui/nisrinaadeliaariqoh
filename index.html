<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nisrina Adelia Ariqoh — Links</title>
  <meta name="description" content="Nisrina Adelia Ariqoh — portfolio and links" />
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="link.css">
  <style>
    /* small overrides to make sure mobile link-in-bio preview looks tight */
    html,body{height:100%;}
  </style>
</head>
<body>
  <div class="gold-foil" aria-hidden="true"></div>

  <main class="hero" style="min-height:100vh; display:flex; align-items:center; justify-content:center;">
    <section class="product-card glass" style="max-width:420px; width:92%; padding:2rem; text-align:center;">

      <!-- Profile frame: populated from manifest if available. If you uploaded an image it will be used; if you uploaded an MP4 it will autoplay muted. -->
      <div id="profile-frame" class="img--framed" style="width:220px; height:220px; margin:0 auto; border-radius:50%; overflow:hidden;">
        <!-- Fallback static image while scripts run -->
        <img src="Wispie.jpg" alt="Nisrina Adelia Ariqoh — profile" style="width:100%; height:100%; object-fit:cover; display:block;">
      </div>

      <h1 class="hero-title serif name-gold" style="margin-top:1.25rem; font-weight:700;">Nisrina Adelia Ariqoh</h1>

      <!-- Links (primary) -->
      <div style="margin-top:1.25rem; display:flex; gap:.75rem; flex-direction:column;">
        <a class="btn-accent" href="https://www.linkedin.com/in/nisrina-adelia-ariqoh-0291a42b7/" target="_blank" rel="noopener noreferrer" style="display:inline-flex; align-items:center; justify-content:center; gap:.5rem;">
          <!-- LinkedIn SVG icon -->
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#221814" d="M19 3A2 2 0 0 1 21 5v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-8.75 7.5H8.5v6.5h1.75v-6.5M9.375 8A1.125 1.125 0 1 0 9.375 10.25 1.125 1.125 0 0 0 9.375 8M15.75 11.5c-1.04 0-1.5.69-1.75 1.17v-1h-1.75v6.5h1.75v-3.5c0-1.06.63-1.75 1.5-1.75 1.04 0 1.5.69 1.5 1.75v3.5H18v-3.9c0-1.9-1.09-2.6-2.25-2.6z"/></svg>
          View LinkedIn
        </a>

        <a class="glass" href="https://medium.com/@nisrinaadelia890" target="_blank" rel="noopener noreferrer" style="display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:.9rem 1.25rem; border-radius:10px; text-decoration:none; color:var(--text-light);">
          <!-- Medium SVG icon -->
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M2 6.5v11L9 18l4 2 9-12.5V6.5z"/></svg>
          Read on Medium
        </a>
      </div>

      <hr class="divider" style="margin:1.5rem auto;">

      <!-- Dynamic portfolio preview: images named port_1.jpg, port_2.jpg, ... placed in Wispie/WEB MODEL -->
      <h2 class="small-muted" style="margin:0 0 .75rem 0;">Selected work</h2>
      <div id="portfolio-grid" style="display:grid; grid-template-columns:repeat(2,1fr); gap:.75rem;">
        <!-- JS will populate thumbnails here from Wispie/WEB MODEL/port_*.{jpg,png,webp} -->
      </div>

      <p class="muted-cream" style="font-size:.9rem; margin-top:1rem;"</p>

    </section>
  </main>

  <footer style="position:fixed; bottom:12px; left:12px; right:12px; text-align:center; font-size:.8rem; color:rgba(255,255,255,0.8);">
    <span>Made for IG bio — <a href="https://github.com/" target="_blank" rel="noopener noreferrer" style="color:var(--gold); text-decoration:none;">Deploy via GitHub Pages</a></span>
  </footer>

  <!-- Lightbox markup (hidden until used) -->
  <div id="lightbox" class="lightbox" aria-hidden="true" style="display:none;">
    <button class="lb-close" aria-label="Close">×</button>
    <button class="lb-prev" aria-label="Previous">‹</button>
    <img class="lb-image" src="" alt="" />
    <button class="lb-next" aria-label="Next">›</button>
  </div>

  <!-- Script: load manifest (if present) to populate profile and portfolio; fallback to numbered scan if manifest missing -->
  <script>
    (function(){
      const grid = document.getElementById('portfolio-grid');
      const profileFrame = document.getElementById('profile-frame');
      const lightbox = document.getElementById('lightbox');
      const lbImage = lightbox.querySelector('.lb-image');
      const lbClose = lightbox.querySelector('.lb-close');
      const lbPrev = lightbox.querySelector('.lb-prev');
      const lbNext = lightbox.querySelector('.lb-next');

      const basePath = 'Wispie/WEB MODEL/';
      const thumbs = [];

      function addThumb(src, idx){
        const a = document.createElement('a');
        a.href = src;
        a.target = '_blank';
        a.rel = 'noopener noreferrer';
        a.className = 'img--framed thumb';
        a.style.height = '88px';
        a.style.borderRadius = '8px';
        a.style.overflow = 'hidden';

        const img = document.createElement('img');
        img.src = src;
        img.alt = `Project ${idx}`;

        a.appendChild(img);
        a.addEventListener('click', function(e){
          e.preventDefault();
          openLightbox(idx-1);
        });

        grid.appendChild(a);
        thumbs.push(src);
      }

      function loadFromManifest(manifest){
        // profile
        if(manifest.profile){
          const fname = manifest.profile;
          const ext = fname.split('.').pop().toLowerCase();
          const url = basePath + encodeURIComponent(fname);
          if(['mp4','webm','ogg'].includes(ext)){
            profileFrame.innerHTML = `<video src="${url}" autoplay muted loop playsinline style="width:100%; height:100%; object-fit:cover; display:block;"></video>`;
          } else {
            profileFrame.innerHTML = `<img src="${url}" alt="Profile" style="width:100%; height:100%; object-fit:cover; display:block;">`;
          }
        }
        // portfolio
        if(Array.isArray(manifest.portfolio) && manifest.portfolio.length){
          manifest.portfolio.forEach((fname, i) => {
            addThumb(basePath + encodeURIComponent(fname), i+1);
          });
        }
      }

      function fallbackNumberedScan(max=20){
        const exts = ['jpg','png','webp','jpeg'];
        let loaded = 0;
        for(let i=1;i<=max;i++){
          (function(i){
            function tryExt(j){
              if(j>=exts.length) return;
              const src = basePath + encodeURIComponent(`port_${i}`) + '.' + exts[j];
              const img = new Image();
              img.onload = function(){ addThumb(src, i); loaded++; };
              img.onerror = function(){ tryExt(j+1); };
              img.src = src;
            }
            tryExt(0);
          })(i);
        }
        setTimeout(function(){
          if(loaded===0 && thumbs.length===0){
            grid.innerHTML = '<div style="color:rgba(255,255,255,0.7); font-size:.95rem;">No portfolio images found — add files named <code>port_1.jpg</code> or create <code>Wispie/WEB MODEL/manifest.json</code> listing your filenames.</div>';
          }
        }, 800);
      }

      // Try loading manifest first
      fetch(basePath + 'manifest.json').then(r=>{
        if(!r.ok) throw new Error('no manifest');
        return r.json();
      }).then(manifest => {
        loadFromManifest(manifest);
      }).catch(()=> {
        // no manifest: if there is a profile mp4 file, use it; and fall back to numbered scan for portfolio
        // detect profile mp4
        const candidate = basePath + 'profile%20photo.mp4';
        const vid = document.createElement('video');
        vid.src = candidate;
        vid.muted = true;
        vid.playsInline = true;
        vid.loop = true;
        vid.autoplay = true;
        vid.addEventListener('canplay', function(){
          profileFrame.innerHTML = '';
          vid.style.width='100%'; vid.style.height='100%'; vid.style.objectFit='cover'; profileFrame.appendChild(vid);
          vid.play().catch(()=>{});
        });
        // try portfolio numbered scan
        fallbackNumberedScan(20);
      });

      // Lightbox functions
      let current = -1;
      function openLightbox(index){
        current = index;
        lbImage.src = thumbs[current];
        lbImage.alt = 'Project ' + (current+1);
        lightbox.style.display = 'flex';
        lightbox.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }
      function closeLightbox(){
        lightbox.style.display = 'none';
        lightbox.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }
      function showNext(delta){
        if(thumbs.length===0) return;
        current = (current + delta + thumbs.length) % thumbs.length;
        lbImage.src = thumbs[current];
        lbImage.alt = 'Project ' + (current+1);
      }

      // Controls
      lbClose.addEventListener('click', closeLightbox);
      lbPrev.addEventListener('click', function(){ showNext(-1); });
      lbNext.addEventListener('click', function(){ showNext(1); });
      lightbox.addEventListener('click', function(e){ if(e.target===lightbox) closeLightbox(); });

      // Keyboard
      document.addEventListener('keydown', function(e){
        if(lightbox.style.display!=='flex') return;
        if(e.key==='Escape') closeLightbox();
        else if(e.key==='ArrowRight') showNext(1);
        else if(e.key==='ArrowLeft') showNext(-1);
      });

    })();
  </script>
</body>
</html>